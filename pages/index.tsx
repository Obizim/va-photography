import type { NextPage } from "next";
import { GetStaticProps } from "next";
import Head from "next/head";
import Link from "next/link";
import React from "react";
import { Splide, SplideSlide, SplideTrack } from "@splidejs/react-splide";
import { sanity } from "../sanityClient";
import styles from "../styles/Home.module.css";
// import '@splidejs/react-splide/css';
import "@splidejs/react-splide/css";

interface IPosts {
  posts: [];
}

const data = [
  {
    title: "Wedd",
    year: 2021,
  },
  {
    title: "Wedd",
    yearCreated: 2021,
  },
  {
    title: "Wedd",
    yearCreated: 2021,
  },
  {
    title: "Wedd",
    yearCreated: 2021,
  },
  {
    title: "Wedd",
    yearCreated: 2021,
  },
];

const Home: NextPage<IPosts> = ({ posts }) => {
  return (
    <div>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <section className={styles.main}>
          <h1 className={styles.title}>
            Victor Abiola <br /> Photographer Services
          </h1>
          <p className={styles.desc}>
            Event/Portrait photographer & film maker
          </p>
      
          <Link href="/contact">
            <a className={styles.booking}>Book an event</a>
          </Link>
        </section>


        <section className={styles.project_container}>
          <Splide
            options={{
              rewind: false,
              width: "100vw",
              gap: "2rem",
              pagination: false,
              // perPage: 4,
              perMove: 1,
              drag: true,
            }}
          >
            {data.map((post: any, i) => (
              <SplideSlide className={styles.splide__slide}>
                <Link href={`/${post.slug}`} key={i}>
                  <a className={styles.project}>
                    <img src="/images/img1.png" alt={`Work`} />
                    <div className={styles.project_contents}>
                      <p>{post.title}</p>
                      <p>{post.yearCreated}</p>
                    </div>
                  </a>
                </Link>
              </SplideSlide>
            ))}
          </Splide>
        </section>

    </div>
  );
};

export default Home;

// export const getStaticProps: GetStaticProps = async (context) => {
//   const posts = await sanity.fetch(`*[_type == "post"]{
//     'slug': slug.current,
//     'title': title,
//     'yearCreated': yearCreated,
//     'mainImage': mainImage {
//       asset->{
//         _id,
//         url
//       }
//     }
//   }`);

//   return {
//     props: {
//       posts,
//     },
//   };
// };
